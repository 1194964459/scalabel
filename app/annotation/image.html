<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Bounding box labeling tool</title>

    <!-- Style CSS -->
    <link href="../css/style.css" rel="stylesheet">

    <!-- Bootstrap Core CSS -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/bootstrap-switch.css" rel="stylesheet">

</head>

<body class="noselect">
<!-- Page Content -->
<div class="container">

    <!-- Heading -->
    <div class="row p-0 m-0">
        <div class="col-lg-12">
            <h2 class="page-header">Bounding box labeling tool
                <small>verson 1.1</small>
                <a type="button" class="btn btn-info btn-popover"
                   data-toggle="popover" data-placement="right"
                   href="instruction.html" target="view_window"
                   data-content="Please view instructions and annotate image of given categories.">
                    Instruction</a>
                <a href="#" id="save_btn" style="position:absolute;right:15px;"
                   class="btn btn-primary btn-primary">Save</a>
            </h2>
        </div>
    </div>
    <!-- /.row -->


    <!-- Content Row -->
    <div class="row">
        <div class="col-md-2">
            <div class="panel panel-default">
                <div id="toolbox" class="panel-heading active">
                    Toolbox
                </div>
                <a href="#" class="list-group-item">
                    <div class="form-group">
                        <p>Label Category</p>
                        <select id="category_select" size="10"
                                class="form-control"></select>
                    </div>
                </a>
            </div>
        </div>

        <canvas id="image_canvas" width="960" height="480"
                style="position:absolute;
                background-image: url('../src/loading.png');
                background-size:cover">
        </canvas>
    </div>
    <!-- /.row -->

    <div class="row">
        <div id="control_panel">
            <div class="col-sm-1">
                <ul class="pagination" id="pagination_control">
                    <li>
                        <a id="prev_btn">&laquo;</a>
                    </li>
                    <li>
                        <a id="next_btn">&raquo;</a>
                    </li>
                    <div class="text-muted" id="progress"></div>
                </ul>
            </div>

        </div>
    </div>

    <div class="row">
        <div class="col-sm-0">
            <ul class="pagination">
                <form id="image_finder" action="#">
                    <div class="col-xs-5">
                        <input type="text" class="form-control" onsubmit="" name="image_id">
                    </div>
                    <input type="button" style= "margin-left:-10px" value="Go" class="btn btn-primary btn-primary" id="find_btn">
                </form>
            </ul>
        </div>
    </div>
    <!-- /.row -->
    <hr>

    <!-- Footer -->
    <footer>
        <!--<div class="row">
            <div class="col-lg-12">
                <p>Copyright &copy; Your Website 2017</p>
            </div>
        </div>-->
        <!-- /.row -->
    </footer>

</div>
<!-- /.container -->

<!-- Google Analytics -->
<script src="../js/thirdparty/analytics.js"></script>

<!-- jQuery -->
<script src="../js/thirdparty/jquery.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="../js/thirdparty/bootstrap.min.js"></script>
<script src="../js/thirdparty/tether.min.js"></script>
<script src="../js/thirdparty/bootstrap-switch.js"></script>

<script type="text/javascript">
    // Global variables
    var image_list = [];
    var current_index = 0;
    var num_display = 0;
    var bboxLabeling;
    var preloaded_images = [];
    var assignment;
    var num_bbox = 0;
    var num_light = 0;
    var type = "bbox";
</script>

<!-- Helper JavaScript -->
<script src="../js/utils.js?1"></script>

<!-- BBox Labeling JavaScript -->
<script src="../js/image.js?7"></script>

<script type="text/javascript">
    $(document).ready(function () {

        loadAssignment();
        $("#image_finder").find('input[name="image_id"]').val(current_index +
            1);
        // Go to previous image
        $("#prev_btn").click(function () {
            goToImage(current_index - 1)
        });

        // Go to next image
        $("#next_btn").click(function () {
            goToImage(current_index + 1)
        });

        $("#find_btn").click(function () {
            index =
                parseInt($("#image_finder").find('input[name="image_id"]').val()) - 1;
            goToImage(index)
        });

        // Manual save button
        $("#save_btn").click(function () {
            saveLabels();
            // auto save submission for the current session.
            submitAssignment();
            if (current_index !== image_list.length - 1) {
                addEvent("save", current_index);
            } else {
                addEvent("submit", current_index);
                alert("Good Job! You've completed this assignment.");
            }
        });

        $('.btn-popover').hover(function () {
            $('.btn-popover').popover('show');
        }, function () {
            $('.btn-popover').popover('hide');
        });
        $('#image_finder').submit(function () {
            return false;
        })

    });


</script>

</body>

</html>
